{% extends 'account/base_home_layout.html' %}
{% load staticfiles %}
{% load material_form %}
{% block head %}<link type="text/css" rel="stylesheet" href="{% static 'materialize-blue.css' %}" />
<link type="text/css" rel="stylesheet" href="{% static 'student/home.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'sweetalert/dist/sweetalert.css' %}">

{% endblock %}
{% block user_photo %}
	{% if student.photo %}
		<img class="circle" src="{{ student.photo.url }}">
	{% else %}
		<div style="height: 64px;width: 64px;background-color:  #17827d;border-radius: 50%;display: flex;justify-content: center;align-items: center;"><h3 style="font-size: 25px;color: white;font-weight: bold;text-transform: uppercase;">{{ student.firstname | first }}{{ student.lastname | first}}</h3></div>
	{% endif %}
{% endblock %}

{% block user_name_card %}
	{{ student.firstname | title }}&nbsp;{{ student.lastname | title }}
{% endblock %}

{% block user_email_id %}
	{{ student.profile.email }}
{% endblock %}

<!--for sidenav-->
{% block user_photo_s %}
	{% if student.photo %}
		<img src="{{ student.photo.url }}" class="circle" height="90" width="90">
	{% else %}
		<div style="height: 90px;width: 90px;background-color: #337ab7;border-radius: 50%;display: flex;justify-content: center;align-items: center;"><h3 style="font-size: 40px;color: white;font-weight: bold;text-transform: uppercase;">{{ student.firstname | first }}{{ student.lastname | first}}</h3></div>	
	{% endif %}
{% endblock %}



{% block user_name_card_s %}
	{{ student.firstname | title }}&nbsp;{{ student.lastname | title}}
{% endblock %}

{% block user_email_id_s %}
	{{ student.profile.email }}
{% endblock %}


 {% block lightbox_data %}
        <div id="light3" class="white_content3">
            <!--Type your form here-->
            <a href = "javascript:void(0)" onclick = "document.getElementById('light3').style.display='none'; document.getElementById('fade3').style.display='none'; "><i class="fa fa-times fa-2x"></i></a>
        </div>
        <div id="fade3" class="black_overlay3"></div>

 {% endblock %}

 {% block lightbox_data2 %}
        <div id="light4" class="white_content4">
        {% if student.resume %}
            <embed src="{{ student.resume.url }}" width="100%" height="1200px"/>
        {% endif %}    
            <a href = "javascript:void(0)" onclick = "document.getElementById('light4').style.display='none'; document.getElementById('fade4').style.display='none'; "><i class="fa fa-times fa-2x"></i></a>
        </div>
        <div id="fade4" class="black_overlay4"></div>

 {% endblock %}

{% block menu_icon_dropdown %}
	<li><a href = "javascript:void(0)" onclick = "document.getElementById('light3').style.display='flex';document.getElementById('fade3').style.display='flex'">Contact College</a></li>
    <li class="divider"></li>
    {% if student.resume %}
    <li><a href = "javascript:void(0)" onclick = "document.getElementById('light4').style.display='flex';document.getElementById('fade4').style.display='flex'">Uploaded resume</a></li>
    {% endif %}
    <li class="divider"></li>
	<li><a id="report-form-anchor" href="{% url 'report' %}">Contact Admin</a></li>
{% endblock %}


{% block user_type %}
	Student
{% endblock %}

{% block user_name %}
	{{ student.firstname | title }}&nbsp;{{ student.lastname | title }}	
{% endblock %}

{% block user_photo2 %}
	{% if student.photo %}
		<img src="{{ student.photo.url }}" class="circle" id="img-corner">
	{% else %}
		<div style="height: 30px;width: 30px;margin-top: 15px;background-color: #337ab7;border-radius: 50%;display: flex;justify-content: center;align-items: center;"><h3 style="font-size: 15px;color: white;text-transform: uppercase;">{{ student.firstname | first }}{{ student.lastname | first}}</h3></div>
	{% endif %}
{% endblock %}

{% block side_nav_links %}
<!--
	{% if edit_profile_form %}
		<li data-main_div="#profile"><a class="waves-effect" href="#!"><i class="fa fa-user" aria-hidden="true"></i>Update Profile*</a></li>
	{% endif %}
	{% if edit_qual_form %}
		<li data-main_div="#qualifications"><a class="waves-effect" href="#!"><i class="fa fa-book" aria-hidden="true"></i>Update Qualifications*</a></li>  
	{% endif %}
-->
	<li id="m-apply" data-main_div="#companies"><a class="waves-effect" href="#!"><i class="fa fa-building" aria-hidden="true"></i>Companies Visiting</a></li>
	<li id="m-session" data-main_div="#sessions_div"><a class="waves-effect" href="#!"><i class="fa fa-clock-o" aria-hidden="true"></i> Sessions</a></li>
<!--	<li id="m-notification" data-main_div="#notifications">
		<a class="waves-effect" href="#!"><i class="fa fa-bell" aria-hidden="true"></i>Notifications{% if badge %}<span class="new badge">{{ badge }}</span>{% endif %}</a>
	</li>-->
	<li class="no-padding">
		<ul class="collapsible collapsible-accordion">
			<li data-main_div="#notifications" class="expandable">	
				<a class="collapsible-header"><i class="fa fa-bell" aria-hidden="true"></i>Notifications{% if badge %}<span class="new badge">{{ badge }}</span>{% endif %}</a>
				<div class="collapsible-body" style="padding: 0 !important;">
					<ul>
						<li class="child-li" data-child_div="#your-notifications-div"><a id="m-your-notifications" detail-url="{% url 'notification_detail' %}" href="#!"><i></i>Your Notifications</a></li>
						<li class="child-li" data-child_div="#help-div"><a id="m-help" href="#!"><i></i>Report an Issue</a></li>
						<li class="child-li" data-child_div="#view-issues-div"><a id="m-view-issues" url="{% url 'view_solution_list' %}" href="#!"><i></i>Your Issues</a></li>
					</ul>
				</div>
			</li>
		</ul>
	</li>

	<li class="no-padding">
		<ul class="collapsible collapsible-accordion">
			<li data-main_div="#settings" class="expandable">
				<a class="collapsible-header"><i class="fa fa-cog" aria-hidden="true"></i>Settings</a>
				<div class="collapsible-body" style="padding: 0 !important;">
					<ul>
						<li class="child-li" data-child_div="#account-settings"><a href="#!"><i class="fa fa-sliders" aria-hidden="true"></i>Account Settings</a></li>
						<li class="child-li" data-child_div="#upload-settings"><a href="#!"><i class="fa fa-upload" aria-hidden="true"></i>Upload Resume/Photo</a></li>
						<li class="child-li" data-child_div="#social-settings"><a href="#!"><i class="fa fa-users" aria-hidden="true"></i>Social Profile Settings</a></li>
						<li class="child-li" data-child_div="#tech-settings"><a href="#!"><i class="fa fa-wrench" aria-hidden="true"></i>Technical Profile Settings</a></li>
					</ul>
				</div>
			</li>
		</ul>
	</li>
    <li><div class="divider"></div></li>
    {% if student.resume %}
	    <li><a href="javascript:void(0)" onclick="document.getElementById('light4').style.display='flex';document.getElementById('fade4').style.display='flex'">View Resume</a></li>
    {% endif %}
	<li><a href="javascript:void(0)" onclick="document.getElementById('light3').style.display='flex';document.getElementById('fade3').style.display='flex'">Contact College</a></li>
	<li><a class="waves-effect" id="m-report-form-anchor" href="{% url 'report' %}">Contact Admin</a></li>
{% endblock %}

{% block tabs %}
<!--
	{% if edit_profile_form %}
		<li class="tab col s2"><a href="#profile" style="color: #9c27b0 !important">Update Profile*</a></li>
	{% endif %}
	{% if edit_qual_form %}
		<li class="tab col s2"><a href="#qualifications" style="color: #9c27b0 !important">Update Qualifications*</a></li>
	{% endif %}
-->
	<li id="apply" class="tab col s2"><a class="active" href="#companies">Companies Visiting</a></li>
<!--	<li class="tab col s2"><a href="#tab2">Status</a></li> -->
	<li id = "notification" class="tab col s2" url="{% url 'submit_issue' %}"><a href="#notifications">Notification</a></li>
	<li id="session" class="tab col s2"><a href="#sessions_div">Sessions</a></li>
	<li class="tab col s2"><a href="#settings">Settings</a></li>
{% endblock %}

{% block tabs_content %}
	<div id="companies" class="col s12"></div>
		<div id="notifications" class="col s12">
		<div class="vertical-tabs">
			<div class="row">
				<div class="col s3">
					<ul class="tabs">
						<li class="tab col s12"><a id = "your-notifications" class="active" href="#your-notifications-div" detail-url = "{% url 'notification_detail' %}">Your Notifications</a></li>
						<li class="tab col s12"><a id = "help" href="#help-div">Report an Issue</a></li>
						<li class="tab col s12"><a id = "view-issues" href="#view-issues-div" url="{% url 'view_solution_list' %}">Your Issues</a></li>
					</ul>
				</div>
				<div class=" col s8 offset-s1">
					<div id="your-notifications-div" class="col s12">
					<p class="info" style="display: none;">Information sent to you by college is displayed here. Interact with college officials.</p>
							<ul id = "your-notifications-div-ul" class="collection">
								<li class="collection-item avatar"><i class="material-icons circle">report_problem</i><span class="title">None</span><p>Please check your Internet Connection. We'll get back to you soon.</p></li>
							</ul>
					</div>

					<div id="help-div" class="col s12">
					</div>
					<div id="view-issues-div" class="col s12" url = "{% url 'view_solution' %}">
							  <ul id = "view-issues-div-ul" class="collection">
							  </ul>
					</div>
				</div>
			</div>
		</div>
		<div id="notification-detail-modal" class="modal modal-fixed-footer">
    		<div class="modal-content">
     	 		<h4 id="notification-modal-heading">Error</h4>
      			<p id="notification-modal-text">Please check the Internet connection and then reload.</p>
    		</div>
    		<div class="modal-footer">
    			<div class="col s4"><p id='notification-modal-date'>Please Reload</p></div>
      			<div class="col s8 right-align"><a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Ok</a></div>
    		</div>
  		</div>
  		<button id="notification-detail-modal-trigger" data-target="notification-detail-modal" style="display: none;"></button>
		</div>
	<!-- -->
	{% if edit_qual_form %}
		<div id="qualifications" class="col s12 m10 offset-m1">
			<form method="POST" action="{% url 'student_qual' %}" id="edit-qual-form">
				{% csrf_token %}
				{% form form=edit_qual_form %}{% endform %}
				<div class="row">
					<button class="col s8 offset-s2 btn btn-waves" type="submit">Update Qualifications</button>
				</div>
			</form>
		</div>
	{% endif %}
	{% if edit_profile_form %}
		<div id="profile" class="col s12 m10 offset-m1">
			<form method="POST" action="{% url 'edit_student_profile' %}" id="edit-student-form" enctype="multipart/form-data">
				{% csrf_token %}
				{% form form=edit_profile_form %}{% endform %}
				<div class="row">
					<button class="col s8 offset-s2 btn btn-waves" type="submit">Update Profile</button>
				</div>
			</form>
		</div>
	{% endif %}
	<div id="settings" class="col s12">
		<div class="vertical-tabs">
			<div class="row">
				<div class="col s3">
					<ul class="tabs">
						<li class="tab col s12"><a class="active" href="#account-settings">Account Settings</a></li>
						<li class="tab col s12"><a href="#upload-settings">Upload Image/Resume</a></li>
						<li class="tab col s12"><a href="#social-settings">Social Profile Settings</a></li>
						<li class="tab col s12"><a href="#tech-settings">Technical Profile Settings</a></li>
					</ul>
				</div>
				<div class=" col s8 offset-s1">
					<div id="account-settings" class="col s12">
						<h4 class="center" style="color: goldenrod"> Account Settings </h4>
						<form method="POST" action="{% url 'edit_account' %}" id="edit-account-form">
							{% csrf_token %}
							{% form form=edit_account_form %}{% endform %}
							<div class="row">
								<button class="col s8 offset-s2 btn btn-waves" type="submit">Update Account</button>
							</div>
						</form>
					</div>
					<div id="upload-settings" class="col s12">
						<h4 class="center" style="color: goldenrod"> Upload Files </h4>
						<form method="POST" action="{% url 'upload_file' %}" id="upload-file-form" enctype="multipart/form-data">
							{% csrf_token %}
							{% form form=upload_file_form %}{% endform %}
							<div class="row">
								<button class="col s8 offset-s2 btn btn-waves" type="submit">Upload</button>
							</div>
						</form>
					</div>
					<div id="social-settings" class="col s12">
						<h4 class="center" style="color: goldenrod"> Social Profile </h4>
						<form method="POST" action="{% url 'social_profile' %}" id="social-profile-form">
							{% csrf_token %}
							{% form form=social_profile_form %}{% endform %}
							<div class="row">
								<button class="col s8 offset-s2 btn btn-waves" type="submit">Update Profile</button>
							</div>
						</form>
					</div>
					<div id="tech-settings" class="col s12">
						<h4 class="center" style="color: goldenrod"> Technical Profile </h4>
						<form method="POST" action="{% url 'tech_profile' %}" id="tech-profile-form">
							{% csrf_token %}
							{% form form=tech_profile_form %}{% endform %}
							<div class="row">
								<button class="col s8 offset-s2 btn btn-waves" type="submit">Update Profile</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="sessions_div" class="col s12"></div>

	{% if badge %}
		<span class="badge" id="notifications_badge">{{ badge }}</span>
	{% endif %}
{% endblock %}

{% block scripts %}
	<script type="text/javascript" src="{% static 'common/search.js' %}"></script>
	<script type="text/javascript" src="{% static 'common/sessions.js' %}"></script>
	<script type="text/javascript" src="{% static 'common/settings.js' %}"></script>
	<script type="text/javascript" src="{% static 'student/update.js' %}"></script>
	<script type="text/javascript" src="{% static 'notification/student.js' %}"></script>
	<script type="text/javascript" src="{% static 'student/apply.js' %}"></script>
	<script type="text/javascript" src="{% static 'common/mobile.js' %}"></script>
	<script src="{% static 'sweetalert/dist/sweetalert.min.js' %}"></script>
	<script>
		$(document).ready(function() {
			Search.init();
			Session.init();
			Notification.init();
			Apply.init();
			Settings.init(['edit-account-form', 'upload-file-form', 'social-profile-form', 'tech-profile-form']);
			Update.init(['edit-student-form', 'edit-qual-form']);
			Mobile.init();
			$('#notification-detail-modal').modal();
		});
	</script>
{% endblock scripts %}

