<!DOCTYPE html>
{% load staticfiles %}

<html>
    <head>
            {% include 'material/includes/material_css.html' %}
            <link type="text/css" rel="stylesheet" href="{% static 'css/font-awesome/css/font-awesome.min.css' %}" />
            <link type="text/css" rel="stylesheet" href="{% static 'materialize-blue.css' %}" />
            <link type="text/css" rel="stylesheet" href="{% static 'account/css/base_home_layout.css'%}"  media="screen,projection"/>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            {% block head %}{% endblock %}
    </head>

    <style type="text/css">

      #dropdown1
      {
        width: 250px;
      }

      #corner_name
      {
        white-space: pre-wrap;
        margin-top: -15px;
        margin-left: -35px;

      }


    </style>

    <body>
        <ul id="dropdown1" class="dropdown-content">
            <li id="corner_dropdown">
                <a href="#!" data-links="settings" id="img-box">
                    <img src="{% block user_photo_s %}{% endblock %}" class="circle" height="90" width="90">
                    <span id="corner_name" class="black-text">{% block user_name_card_s %}{% endblock %}</span>
                    <span id="corner_email" class="grey-text lighten-1">{% block user_email_id_s %}{% endblock %}</span>
                </a>
            </li>
            <li class="divider"></li>
            <li><a href="#!" data-links="settings"><i class="fa fa-sliders"></i>Account settings</a></li>
            <li class="divider"></li>
            <li><a href="#!" data-links="notifications"><i class="fa fa-bell"></i>Notifications</a></li>
            <li class="divider"></li>
            <li class="divider"></li>
            <li><a href="{% url 'logout' %}"><i class="fa fa-sign-out"></i>Sign out</a></li>
        </ul>
        <ul id="dropdown2" class="dropdown-content">
            {% block menu_icon_dropdown %}
                <li><a href="#!">wrgwearg</a></li>
                <li class="divider"></li>
            {% endblock %} 
        </ul>

        <ul class="collapsible dropdown-content" data-collapsible="accordion" id="dropdown3">
            <!--every li here represents a notifcations. header and body for notifications repectively-->     
    
        </ul>
<!--Search box-->
        <div id="light" class="white_content"> 
         <div id="box-search">
            <form id="search-line">
                            <input type="text" name="q" placeholder="Search for Students, Colleges, and Companies..." />
                            <ul id="results"></ul>
            </form>
         </div>   
            <a href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='none'; document.getElementById('fade').style.display='none'; "><i class="fa fa-times fa-3x"></i></a>
        </div>
        <div id="fade" class="black_overlay"></div>

<!--materialize fixed main navbar-->
        <div class="navbar-fixed">
            <nav id="nav-bar">
                <div class="nav-wrapper">
                    <div class="left" style="margin-left: 1.5%;">
                      <div id="logo">
                        <img src="{% static 'images/ipu-logo.png' %}" style="height: 55px">
                        <div id="inner-logo">
                        <h4>Training & Placement cell</h4>
                        <h6>Guru Gobind Singh Indraprastha University</h6> 
                        </div>
                      </div>
                    </div>
                    <a id="center_logo" href="#!" class="brand-logo center hide-on-large-only">Training & Placement Cell</a>
                    <ul class="right">
                   	<li><a href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='flex';document.getElementById('fade').style.display='flex'"><i class="material-icons">search</i></a>
                  	</li>
                  	<li class="hide-on-med-and-down">
                    	<a id = 'notification_button' class="dropdown-button tooltipped" data-constrainwidth="false" data-beloworigin="true" data-gutter="10" href="{% url 'get_notifications' %}" data-activates="dropdown3" data-position="left" data-delay="20" data-tooltip="Notifications"><i class="fa fa-bell fa-2x" style="font-size: 1.5em;"></i></a>
                  </li>

                  <li class="hide-on-med-and-down">
                  		<a class="dropdown-button" data-constrainwidth="false" data-beloworigin="true" data-gutter="10" href="" data-activates="dropdown2"><i class="material-icons">menu</i></a>
                  </li>   
                  <li class="hide-on-med-and-down">
                    	<a class="dropdown-button" data-constrainwidth="false" data-beloworigin="true" data-gutter="10" href="" data-activates="dropdown1"><img src="{% block user_photo2 %}{% endblock %}" class="circle" id="img-corner"></a>
                  </li>
                    
              </ul>

              <ul class="left hide-on-large-only">
                
                <li>
                  <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
                </li>

              </ul>
            
            </div>
        </nav>
      </div> 

<!--navbar ends-->

<!--sidebar begins-->
 
 <ul id="slide-out" class="side-nav">
    <li><div class="userView">
      <div class="background">
        <img src="{% static 'images/bgs2.jpg' %}" width="100%">
      </div>
      <a href="#!user"><img class="circle" src="{% block user_photo %}{% endblock %}"></a>
      <a href="#!name"><span class="white-text name">{% block user_name_card %}{% endblock %}</span></a>
      <a href="#!email"><span class="white-text email">{% block user_email_id %}{% endblock %}</span></a>
    </div></li>
    {% block side_nav_links %}
    {% endblock %}
      <li><a href="{% url 'logout' %}"><i class="fa fa-sign-out"></i>Logout</a></li>
  </ul>

<!--sidebar ends-->



        <main>
            <!--Tabs bar begins--> 
            <div id="tab-bar">
                <div class="row">
                    <div class="col s12 hide-on-med-and-down">
                        <ul class="tabs">
                            <!--naming for tabs-->
                            {% block tabs %}
                            <!--each li  represents a new tab with the name-->
<!--                            <li class="tab col s2"><a class="active" href="#test1">Test 1</a></li> -->
                            {% endblock %}
                        </ul>
                    </div>
                    <div id="tabs-data-div" class="row"> 
                        {% block tabs_content %}
                        {% endblock %}
                    </div>
                </div>
            </div>

        </main>


        <script src="{% static 'material/js/jquery-2.2.0.js' %}"></script>
        {% include 'material/includes/material_js.html' %}
        {% block scripts %}{% endblock %}
        <script type="text/javascript" src="{% static 'notification/get_notification.js' %}"></script>
        <script type="text/javascript">
      			$(document).ready(function(e) {
      	            $('#dropdown3').on('click', function(e){e.stopPropagation();});
          	        $('.dropdown-button').on('click', function(e){e.preventDefault()});
      				$('nav .brand-logo').on('click', function(e){location.href='';});
            		GetNotification.init();
                $('.button-collapse').sideNav({
      menuWidth: 240, 
      closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
    }
  );
      	});
		
		// Mapping dropdown links to tabs
		    $('#dropdown1 a').each(function(i, a){
      			var el = $(a);
      			var target = el.data('links');
      			if (!target)
      				return true;
      			var target_el = $('#tab-bar').find("[href='#" + target + "']");
      			if(!target_el.length)
      				return true;
      			el.on('click', function(e){e.preventDefault();target_el[0].click();});
      		});
        </script>
        
       {% block lightbox_data %}
       {% endblock %}
       {% block lightbox_data2 %}
       {% endblock %}
        
    </body>
</html>
